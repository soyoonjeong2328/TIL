## 데이터 링크 계층 프로토콜 기초
#### 개념
- 두 호스트가 통신하려면 일대일 형식의 점대점 방식으로 연결 

#### 프레임
1. 정보 프레임(=I 프레임)
    - 상위 계층에서 보낸 데이터와 함께 프레임의 순서번호, 송수신 호스트의 주소 정보 포함 </br>
    📍 순서번호 : 각 정보 프레임에 부여되는 고유의 일련번호

2. 긍정 응답 프레임(=ACK 프레임; Positivie Acknowledgement)
    - 전송 데이터가 올바르게 도착했음을 회신하는 용도로 사용되며 데이터를 수신한 호스트가 데이터를 송신한 호스트에 전송하는 프레임

3. 부정 응답 프레임(=NAK 프레임; Negative Acknowledgment)
    - 전송 데이터가 깨져서 도착했음을 회신하는 용도로 사용
    - 데이터를 수신한 호스트가 데이터를 송신한 호스트에게 전송하며 데이터를 송신한 호스트는 원래의 데이터를 재전송하여 오류 복구

## 슬라이딩 윈도우 프로토콜
### 개념
- 두 호스트 간 데이터 전송을 위한 일반적인 통신 프로토콜로 오류 제어와 흐름 제어를 함께 지원

### 절차
- 송신 호스트는 정보 프레임(전송 데이터, 순서 번호, 오류 검출 코드)을 순서 번호에 따라 순차적 전송
- 정보 프레임을 수신한 수신 호스트가 응답하는 순서번호는 정상적으로 수신한 번호가 아닌, 다음에 수산하기를 기대하는 번호를 회신하는 것을 사용
- 송신 호스트는 송신한 정보 프레임을 자신의 내부 버퍼인 송신 윈도우를 유지해야 한다.
    
    송신 호스트가 관리하는 송신 위도우는 전송은 되었지만 긍정 응답이 회신되지 않은 프레임을 보관
    
- 수신 호스트는 수신한 정보 프레임을 보관하기 위한 내부 버퍼인 수신 윈도우를 유지해야 한다.
    
    수신 호스트가 관리하는 수신 윈도우는 **프로토콜 동작 방식**에 따라 크기가 달라진다. </br>
    📍 프로토콜 동작 방식
    1. 선택적 재전송
    2. Go-Back-N 방식
    3. Piggy Backing 방식

### 흐름 제어
- 순서 번호(Seq)
    - 프레임 별로 부여되는 일련의 번호
    - 수신 호스트와 송신 호스트가 정보 프레임을 구별하기 위해서 순서번호를 사용
    - 0부터 임의의 최댓값 까지 순환 방식 사용
    - 순서 번호의 최댓값이 송신 윈도우 크기보다 커야 한다
        
        why? 
        
        - 순서를 다시 지정할때 최댓값 이후에는 다시 0번으로 순서를 지정하기 때문에 송신 윈도우의 크기가 더 클경우 순서 번호가 겹치는 현상이 발생할 수 있기 때문에
- 윈도우 크기(=Buffer size)
    - 긍정 응답 프레임을 받지 않고도 연속으로 전송할 수 있는 프레임의 개수
    - 송신 윈도우에 보관된 프레임은 수신 호스트에 전송되었으나 아직 긍정 응답을 받지 못한 프레임
    - 윈도우에 포함된 정보 프레임의 관리는 순서 번호를 기반으로 이루어지는데 낮은 순서번호부터 처리

### 연속형 전송 
- ACK 프레임을 받지 않고 <span style="color:violet" > 여러 프레임을 연속으로 전송할 수 있는 방식 </span>
- Go-Back-N 방식 <br/>
<img src="/img/GoBackN.png" width="400" height="400">
