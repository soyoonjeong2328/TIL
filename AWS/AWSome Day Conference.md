## AWSome Day
### 강의1. AWS 클라우드 소개 
#### 작동 방식
- AWS에 접속해 필요한 데이터를 api 호출을 위해 엑세스할 수 있음 

#### 클라우드 배포 모델
1. 온프레미스
   - 회사 소유의 데이터 센터에 모든 물리적인 인프라를 위치시키는 형식
   - 클라우드 환경을 모방하는 것이 최근 트렌드
2. 하이브리드
    - 기존 온프레미스 데이터 센터와 클라우드를 함께 운영
    - 기존 온프레미스의 수명연한이 남아있거나 전체 IT를 바꾸기 쉽지 않을때 운영
3. 클라우드
   - 클라우드 상에 모든 애플리케이션을 배포하고 사용하는 형태
   - 클라우드 컴퓨팅의 이점을 최대한 활용

#### AWS 글로벌 인프라
- aws 글로벌 인프라와 관련하여 리전과 가용 영역이라는 두가지 개념으로 나뉘게 된다.
  - 리전
    - aws가 서비스하는 지리적인 위치
    - 전세계 여러 위치에 호스팅 되는 것을 aws 리전이라 한다.
  - 가용영역
    - 데이터 센터의 클러스터(Availability Zone; AZ)
    - 하나의 리전은 최소 2개 이상의 가용 영역으로 구성
    - 각 가용 영역은 기본적으로 분리되어 있긴 하지만 한 리전의 가용영역은 짧은 연결이 되어 있다.
<br/>
→ 한 가용영역은 다른 가용 영역의 장애로부터 격리 되어 있기 때문에 애플리케이션 하나를 여러 AZ에 걸쳐 분할하면 기업의 격리가 더 원활하게 이루어지며 지진 등과 같은 이유에서 안전

#### 리전 선택 기준
1. 데이터 거버넌스 
   - 고객의 데이터가 서비스하는 특정 지역에 반드시 있어야 하는 경우 역시 해당 리전을 지정
2. 지연시간
   - 엔드 유저에 더 가까운 리전을 선택할때 빠르게 서비스 가능
3. 서비스 비용 및 서비스 유무
   - 모든 서비스를 전체 리전에서 사용 x 
   - 서비스 성격에 따라 리전 선택의 여러가지 기준 중 적합한 리전 선택 후 사용 

#### 엣지 로케이션
- 최종 사용자에게 더 짧은 지연시간을 서비스를 제공하는 AWS의 추가적인 시설물
- 엣지 로케이션에서는 DNS 서비스인 Amazon Route 53과 CDN 서비스인 Amazon CloudFront 등을 이용할 수 있음 <br/>
→ AWS는 서버, 데이터 센터 이외에도 네트워크 역시 임대해서 사용 가능 

#### AWS 엣지 인프라
- 클라우드를 엔드 포인트에서 엔드 유저에 더 가까이 이용할 수 있는 서비스
- 짧은 지연시간 또는 로컬 데이터 처리가 요구되는 애플리케이션에 사용할 수 있는 AWS 엣지 인프라로 AWS Outposts, AWS Local Zones , AWS Wavelength
  - AWS Outposts
    - 지연 시간 요건으로 인해 온프레미스에 유지해야하는 워크로드를 위해 고안
    - AWS에서 설계한 하드웨어로 제작된 구성 가능한 완전 관리형 컴퓨팅 및 스토리지 랙으로 고객은 컴퓨팅 및 스토리지를 온프레미스를 동시에 실행할수 있는 클라우드에서 AWS의 광범위한 서비스에 원할하게 연결 할 수 있음 
    - 온프레미스 데이터 센터 가까이로 물리적으로 가져오는 서비스 
  - AWS Local Zones
    - 동영상 렌더링 및 그래픽 집약적인 가상 데스크톱 애플리케이션 등 10밀리초 미만의 지연 시간이 요구되는 워크로드
    - 자체 데이터 센터 인프라를 보유 및 운영 할 필요 없이 컴퓨팅 및 스토리지 리소스를 최종 사용자, 엔드 유저에게 더 가까이 두는 이점
  - AWS Wavelength
    - AWS 인프라, 서비스 API 및 도구를 5G 네트워크로 확장하여 지연 시간이 짧은 애플리케이션을 5G 디바이스
    - 스토리지 및 컴퓨팅 서비스를 이동 통신 사업자의 5G 네트워크 내에 포함하여 개발자가 IoT 디바이스, 게임 스트리밍, 자율 주행 차량, 라이브 미디어 제작 등 10 밀리초 미만의 지연시간이 요구되는 새로운 5G 최종 사용자용 애플리케이션을 손쉽게 제작할 수 있게 한다. 

#### AWS와 상호작용하는 3가지 방법
1. 매니지먼트 콘솔
   - 웹 혹은 모바일에서도 애플리케이션을 제공 
   - 고객이 직관적으로 이용할 수 있는 그래픽 유저 인터페이스,GUI를 통해서 손쉽게 사용할 수 있도록 구성
2. AWS CLI
   - aws 서비스와 상호작용하는 명령을 제공하는 오픈소스 도구로 구축이 되어 있음
   - 윈도우,리눅스, 맥 os의 명령 프로그램에서 손쉽게 사용 가능
3. AWS SDK
   - 원래 AWS가 제공하는 REST API를 제공 
<br/>
→ 자동화 덕분 코드화 인프라로 관리 가능 
→ 코드형 인프라(IaC)은 개발에 있어 굉장히 많은 자유도를 가져다 준다. 

<br/><br/>

### 강의 2. AWS 클라우드 핵심 서비스 소개 
#### 컴퓨팅 
- 크기 조정 가능한 컴퓨터 용량 
  - EC2를 런칭할 때 인스턴스 패밀리와 Size를 선택 가능 
    - 인스턴스 패밀리 : 고객의 워크로드에 대해 컴퓨팅 타입을 분류하는 것 범용, 컴퓨팅 최적화, 가속화된 컴퓨팅 등 이 있음
    - Size : small은 2core의 vCPU, 4GB Memory 등 픽스된 형태로 컴퓨팅 <br/>
→ AWS에서는 서버, 데이터베이스, 스토리지 및 상위 애플리케이션 구성 요소를 몇 분 이내에 인스턴스화할 수 있다.
기존 물리서버는 트래픽이나 부하의 변화에 따라서 이를 탄력적으로 반응할 수 없기 때문에 오버프로비저닝을 하게 된다. <br/>
즉, 컴퓨팅 자원이 효율이 사용되지 않음 

#### Amazon EC2
- AMI
  - 운영 체제, 애플리케이션 서버, 애플리케이션과 같이 필요한 소프트웨어 및 AMI 시간 권한 등 시작 될때 인스턴스에 연결할 볼륨을 지정하는 블록 디바이스 매핑 등이 구성된 템플릿 
  - 원하는 만큼 여러개의 인스턴스를 시작할 수 있다. 
  - 기업 또는 개인에 맞는 AMI를 구성해 인스턴스를 시작할 수 있다.
  - AMI 다운 받는 방법 4가지
    1. AWS에서 제공하는 AMI
    2. 마켓 플레이스에서 제공
        - 스마트폰 앱스토어와 같이 AMI에 솔루션과 같이 소프트웨어를 통합해 판매 가능
    3. 사용자가 자체적으로 구성한 AMI를 생성해 이를 사용
        - 엔터프라이즈 기업과 같은 경우는 자체 보안 프로그램이 필요한 경우가 있다. 
        - 자체 보안프로그램을 내장한 AMI를 구성하고 활용 
    4. 커뮤니티에 올라오는 AMI
        - 선택한 AMI를 기준으로 EC2 인스턴스 기동 
        - 사용하지 않음에 따라 정지, 제거 가능 
  - 장점 
    - 필요한 만큼 리소스하고 확장 축소 가능 
    - 제어가 쉽다.
      - 중단, 시작, 재시작 등 손쉽게 제어하고, 필요 시 관리의 오버헤드에 없이 조절 가능 
    - ELB나 S3, RDS 등 통합 가능
      - 원하는 아키텍처를 쉽게 구현하고 다른 서비스 손쉽게 사용 가능 
    - 특히, 오트 스케일링을 활용하면 트래픽이 몰리는 시간에 요청을 처리할 수 있는 충분한 자원을 제공하면서도 필요하지 않을 때 해당 자원 중단 가능 

#### Amazon EC2 인스턴스 패밀리
1. 일반적으로 사용하는 균형잡힌 인스턴스의 성능을 필요로 할때 선택하는 범용 인스턴스 패밀리
   - 트래픽이 적은 웹 사이트와 웹 애플리케이션 
   - 소형 데이터베이스 및 중형 데이터 베이스
2. 컴퓨팅 성능을 집약적으로 제공해서 고성능의 CPU를 제공하는 컴퓨팅 최적화
3. 대규모의 메모리를 제공하는 메모리 최적화
4. 처리량에 강점을 가지고 있는 스토리지 최적화
5. GPU 성능을 필요로 할대 선택할 수 있는 엑셀러레이티드 컴퓨팅 패밀리
   1. 기계 학습

#### AWS에서 서비스 사용하는 방법
1. 관리형
   - AWS가 제공하는 관리형 및 관계형 데이터베이스인 RDS를 예를 들수 있다. 
   - RDS를 사용하면 데이터베이스 엔진 셋업, 고가용성을 위한 소프트웨어 직접 설치할 필요 없으므로 애플리케이션 또는 비즈니스에 더욱 더 집중 가능
2. 비관리형
   - EC2 인스턴스에 데이터베이스를 직접 셋업하는 경우
   - 데이터베이스 엔진 설치, 고가용성 확보를 위해 관련 소프트웨어 설치하는 등 관여하고 제어
<br/>
→ 컨테이너도 비관리형 , 관리형으로 나눠서 관리할 수 있다.

#### Amazon Elastic Container Service(Amazon ECS)
- 클러스터에서 컨테이너를 쉽게 실행 중지 및 관리할 수 있게 해주는 확장성과 속도가 뛰어난 컨테이너 관리 서비스
- 기본적으로 컨테이너를 사용하면 일관성, 빠른 배포 등 다양한 이점을 가져갈 수 있음 
- 컨테이너는 Command Line Interface 명령을 통해 기동, 정지 등의 관리를 하게 됩니다. 
  - 컨테이너가 소수 일때는 Command Line Interface 명령으로 충분히 관리할 수 있지만 컨테이너가 많아지면 관리가 어렵
  - 중간 관리자 필요 → 쿠버네티스와 같이 오픈소스를 활용해 셋업하면 어케스트레이션 서비스 관리시간 많이 소요
- 추가적으로 쿠버네티스 또한 EKS라는 관리형 서비스를 통해 제공 
- 리소스 요구 사항, 격리 정책 및 가용성 요구사항에 따라 클러스터에서 컨테이너 배치를 예약 할 수 있음  <Br/>
→ Amazon ECS를 사용하면 간단한API 호출을 사용하여 컨테이너 기반 애플리케이션을 시작하고 중지할 수 있음 <br/>
→ 중앙 집중식 서비스에서 클러스터의 상태를 검색할 수 있으며 친숙한 Amazon EC2기능에 액세스 할 수 있음 <br/>
→ 자체 클러스터 관리 및 구성 관리 시스템을 운영하거나 관리 인프라 확장을 걱정할 필요 x 

#### Amazon ECS 기본 구조
- 컨테이너를 컨트롤하는 부분이 있고 이 부분은 aws에 의해 관리되게 되며 해당 EndPoint에 작업 정의라고 하는 작업 명세를 전달
- 컨테이너를 컨트롤하는 해당 부분은 작업 지시를 이해하고 적절한 EC2 인스턴스로 이루어진 클러스터에 컨테이너를 배치하도록 작업 수행 
- 관리하는 부분은 컨테이너가 수행되는 EC2 인스턴스 클러스터 


#### 서버리스 컴퓨팅
- 서버를 관리하지 않고 애플리케이션과 서비스를 구축하고 실행 
- 사용자가 서버를 프로비저닝, 확장, 관리할 필요가 없다.
- 모든 유형의 애플리케이션 또는 백엔드 서비스를 위해 서버리스 애플리케이션을 구축할 수 있으며 애플리케이션을 고가용성으로 실행하고 확장하는데 필요한 모든 것이 자동으로 처리
- 장점
    - 유휴 상태에 대한 비용 지불 x
- 대표적 컴퓨팅 서비스
    - Lambda
        - aws lambda를 사용하면 서버를 프로비저닝 하거나 관리할 필요없이 코드를 실행할 수 있음
        - 고가용성 컴퓨팅 인프라에서 코드를 실행하고 서버 및 운영 체제 유지 관리, 용량 프로비저닝 및 자동 조정 코드 모니터링 및 로깅 등 모든 컴퓨팅 리소스 관리
        - Node.js, Java, Python 중 하나로 코드를 제공하기만 하면 된다.
        - 구성에는 이벤트를 수신하는 핸들러 사용자 대신 Lambda 함수를 실행하기 위해 aws lambda가 맡을 수 있는 IAM 역할, 할당할 컴퓨팅 리솟, 실행 제한 시간 등의 정보가 포함
        - Lambda 함수는 상태 비저장으로 코드 실행
            - 상태 비저장 : Lambda 함수가 호출될때만 기동되어 작업을 수행하고 그 외에는 기동되어 있지 않다는 것을 의미
        - 이벤트에 대한 응답으로 Lambda 사용 가능

<br/><br/>

## AWS 클라우드 핵심 서비스 소개2
### 스토리지

- Amazon S3
    - 인터넷 상 어디서나 원하는 양의 데이터를 저장하고 검색할 수 있도록 구축된 키 벨류 값 기반의 객체 스토리지
    - 객체 스토리지는 어떤 유형의 데이터든 네이티브 형식으로 저장할 수 있는 고도로 확장 가능하고 비용 효율적인 스토리지를 제공함으로써 빅데이터 시대에 각광받는 스토리지 타입
    - 이벤트 알림기능이 있어 특정 버킷으로 객체가 업로드되거나 삭제되는 등 특정 이벤트가 발생할 때 자동 알림을 보내도록 설정
        - 사용자에게 전송하거나 AWS Lambda 스크립트와 같은 다른 프로세스를 트리거하는데 사용 가능
        - 클라우드 네이티브 애플리케이션에 대한 스토리지로 사용
            - 클라우드 네이티브 애플리케이션을 구성하는 마이크로서비스에서 공유하는 개발 및 프로덕션 데이터를 저장함으로써 빠르고 비용 효율적인 모바일 및 인터넷 기반 애플리케이션 구축가능
    - 용량에 상관없이 데이터를 업로드하고 어디에서든 액세스하여 애플리케이션을 더 빠르게 배포하고 더 많은 사용자가 액세스하도록 구성
    - 특징
    1. 높은 내구성
    2. 높은 수평확장성(유연성)
        1. 원하는 만큼 데이터를 저장할 수 있음
        2. 높은 수평 확장성 덕분에 손쉽게 다수의 동시 트랜잭션이 가능하므로 금융 거래 분석, 클릭스트림 분석 등의 워크로드를 지원하는 빅데이터의 분석용 스토리지로 유용
- 저장 옵션
    - 저장 비용이 저렴한 Amazon Se Glacier
- 사용 사례 : 데이터 레이크, 빅데이터 분석
- 객체를 저장하는 방식
    - 데이터를 **버킷**이라는 리소스내 객체 단위로 저장
        - 버킷 : Amazon S3가 파일 저장과 함께 사용하는 다른 접근 방식
            - 폴더 대신 여러 개의 객체를 저장할 수 있는 큰 공간으로 버킷 생성
            - 파일 스토리지 처럼 계층적으로 데이터에 접근하는 구조가 아니라 객체 스토리지라는 점이 중요
    - S3 객체 태깅을 사용하여 모든 S3 버킷 또는 접두사에 걸쳐 데이터를 관리할 수 있음
    - 생성한 버킷 내에 원하는 만큼 데이터를 저장하고 버킷에서 객체를 쓰거나 읽거나 삭제할 수 있음
- Amazon S3 Glacier
    - 매우 저렴한 데이터 아카이브용 스토리지 서비스를 활용할 수 있음
    - 저장된 아카이브 데이터에 직접 강력한 분석을 실행할 수 있음
- Amazon EFS
    - NAS 처럼 여러 사람이 동시에 쓰기(write)작업을 할 수 있는 공유 파일 스토리지 서비스
- AWS Storage Gateway
    - 하이브리드 처럼 사용할 수 있는 클라우드 스토리지 서비스
    - ISCSL, SMB 및 NFS와 같은 표준 스토리지 프로토콜 세트를 제공하므로 기존 애플리케이션을 다시 작성하지 않고 AWS 스토리지를 사용할 수 있음
- Amazon EBS
    - Amazon EC2에서 사용하도록 설계된 고성능 블록 스토리지 서비스
    - 일반적으로 EC2 인스턴스에 대한 영구 저장소로써 사용가능
    - 대규모로 처리량과 트랜잭션 집약적인 워크로드 모두를 지원하기 위해  Amazon EC2에서 사용하도록 설계된 사용하기 쉬운 고성능 블록 스토리지 서비스
    - 관계형 및 비관계형 데이터베이스, 엔터프라이즈 애플리케이션, 컨테이너화된 애플리케이션, 빅데이터 분석 엔진 등 다양한 워크로드가 amazon EBS에 배포
    - AWS 클라우드의 Amazon EC2인스턴스에 사용할 영구 블록 스토리지 볼륨을 제공
    - 각각의 볼륨은 자동으로 가용영역 내에 데이터를 미러링하는 구조로 고가용성 및 내구성을 제공
    - 보다 높은 수준의 데이터 내구성을 제공하기 위해 볼륨의 특정 시점 스냅샷을 제공하는 기능을 사용할 수 있음
    - 스냅샷은 S3에 저장
    - 유형
        1. 트랜잭션 워크로드를 위한 SSD 지원 스토리지
        2. 처리량 워크로드를 위한 HDD 지원 스토리지

<br/>

### 데이터베이스

- aws에서 데이터베이스를 사용하는 두가지 방법

1. aws의 ec2 인스턴스 위에 직접 db를 호스팅해서 구축하는 옵션 
    - 운영 체제 엑세스
    - 특정 애플리케이션의 기능 필요
2. aws 관리형 db
    - DB 프로비저닝, 백업과 복구 작업 실행, 보안 패치와 스토리지 및 사소한 버전 업데이트 관리 같은 복잡한 관리 작업 위임
        
        → DB 이중화 가능
        
    - 성능 조정이나 스키마 최적화 같은 고차원적인 DB 작업에 집중 가능
    
    →  DB 관리와 관련된 여러 복잡한 작업은 AWS에 위임하고 이외의 중요한 비즈니스에 집중할 수 있음

AWS DB 서비스

1. Amazon RDS
    - 하드웨어 프로비저닝, 데이터베이스 설정, 패치, 백업과 같은 시간 소모적인 관리 작업을 자동화하는 한편  비용 효율적이고 확장 가능한 용량을 제공하는 관계형 데이터베이스 서비스
    - 사용자가 애플리케이션에 집중하여 애플리케이션에 필요한 빠른 성능, 고가용성, 보안 및 호환성을 제공할 수 있도록 지원
    - Management Console, CLI 또는 SDK를 통해서 간단한 API 호출을 통해 몇분이면 프로덕션용 관계형 DB 성능을 활용할 수 있음
    - 다중AZ, 가용 영역을 사용해서 DB 인스턴스를 여러대 프로비저닝 하실 수 있고  DB 이중화를 손쉽게 할 수 있음
2. Amazon Aurora
    - 고성능 사용 데이터베이스의 성능과 가용성에 오픈 소스 데이터베이스의 간편성과 비용 효율성을 결합한 서비스
    - 내결함성을 갖춘 자가 복구 분산 스토리지 시스템
3. Amazon DynamoDB
    - 규모에 관계없이 10밀리초 미만의 지연 시간이 일관되게 요구되는 모든 애플리케이션을 위한 빠르고 유연성이 뛰어난 비관계형 데이터베이스 서비스
    - 문서 모델과 키 값 스토어 모델 모두 지원
    - 모든 테이블에 대해 특정 시점으로 복구, 백업 및 복원을 제공하므로 기업 및 아카이브 요구사항을 충족하는데 도움
    - 특징
        - 완젼 관리 방식의 비관계형 데이터베이스
        - 짧은 지연시간
        - Fine Grained Access Control이라 불리는 세분화된 액세스 제어
        - 유연성
            - 문서의 저장, 쿼리 및 업데이트 지원

<br/>

## AWS 클라우드 핵심 서비스 소개 3

### 네트워킹

- Amazon VPC
    - VPC는 IP 주소의 범위 선택, 서브넷 생성, 라우팅 테이블 및 인터넷 게이트 웨이 구성 등 가상 네트워킹 환경을 완벽하게 제어할 수 있음
    - 논리적으로 격리되어 있는 가상 네트워크이며 Private IP 대역을 할당 할 수 있음
    - public 서브넷 조건 3가지
        1. 인터넷 게이트웨이라고 불리는 서비스를 생성해서 VPC에 연결 
        2. 라우팅 테이블에서 해당 항목에 대한 트래픽 경로가 지정되어야 함 
        3. 퍼블랙 서브넷에 있는 서비스가 외부에서 접근할 수 있는 퍼블릭 IP 주소를 가지고 있어야 한다. 
- VPC의 계층화된 네트워크 방어
    - VPC의 라우팅 테이블을 사용해 네트워크 트래픽이 전달되는 위치를 제어
        
        → 악의적 공격자가 서비스에 도달하기 위해 공격을 해도 라우팅 테이블에 해당 정보가 없으면 접근할 수 x
        
    - 네트워크 ACL
        - 1개 이상의 서브넷 내부와 외부의 트래픽을 제어하기 위한 방화벽 역할을 하는 VPC를 위한 선택적 보안 계층
    - 보안 그룹
        - 인스턴스에 대한 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽
        - 서브넷 기준이 아닌 인스턴스를 기준으로 하기 때문에 하나의 서브넷 안에 있는 여러 리소스를 서로 다른 보안 그룹 세트에 할당할 수 있음
    - 서드 파티 호스팅 기반 보안
- 계층적 보안
    - 먼저 외부에서 EC2 인스턴스에 접근하기 위해서는 인터넷 게이트웨이라는 서비스를 통해 접근
    - 인터넷 게이트 웨이로 들어온 트래픽은 라우팅 테이블의 경로 정보를 가지고 이동
    - 라우팅 테이블에서 적절한 정보를 주지 않음
